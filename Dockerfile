# Use a specific Maven base image with OpenJDK 17 for the build stageFROM maven:3.8.4-openjdk-17-slim AS build# Set the working directory inside the containerWORKDIR /app# Copy the Maven project files to the containerCOPY pom.xml .COPY src ./src# Package the application, skipping tests to speed up the build processRUN mvn clean package -DskipTests# Use a specific OpenJDK runtime base image for the final stageFROM openjdk:17-jdk-slim# Set the working directory inside the containerWORKDIR /app# Copy the packaged JAR file from the build stage to the runtime stageCOPY --from=build /app/target/service-registry.jar /app/app.jar# Expose port 8000 to allow external access to the applicationEXPOSE 8000# Define the command to run the applicationCMD ["java", "-jar", "/app/app.jar"]